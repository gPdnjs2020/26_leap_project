/* src/App.css - Infinite Forest Theme ğŸŒ² */

:root {
  --forest-deep: #2d4a22;    /* ì§™ì€ ì´ˆë¡ (í…ìŠ¤íŠ¸) */
  --forest-main: #4f772d;    /* ë©”ì¸ ì´ˆë¡ */
  --forest-light: #90a955;   /* ë°ì€ ì—°ë‘ */
  --earth-brown: #8c6239;    /* ë‚˜ë¬´/í™ìƒ‰ */
  --bg-color: #f0f7e6;       /* ìˆ² ë°”ë‹¥ ë°°ê²½ìƒ‰ */
  --header-bg: rgba(255, 255, 255, 0.85); /* ë°˜íˆ¬ëª… í—¤ë” */
}

/* 1. ê¸°ë³¸ ì„¤ì • (ì „ì²´ í™”ë©´ ìˆ² ë°°ê²½) */
body {
  margin: 0;
  padding: 0;
  background-color: var(--bg-color);
  font-family: 'Pretendard', sans-serif;
  color: var(--forest-deep);
  overflow-x: hidden;
}

/* 2. ìƒë‹¨ ê³ ì • í—¤ë” */
.forest-header {
  position: fixed;
  top: 0; left: 0; right: 0;
  height: 60px;
  background: var(--header-bg);
  backdrop-filter: blur(8px);
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 20px;
  z-index: 1000;
  box-shadow: 0 2px 15px rgba(45, 74, 34, 0.1);
}

.logo {
  font-size: 20px;
  font-weight: bold;
  color: var(--forest-main);
  text-decoration: none;
}

/* 3. ë©”ì¸ ìˆ² í•„ë“œ */
.forest-field {
  padding-top: 60px; 
  width: 100%;
  height: 100vh;
  position: relative;
  overflow: hidden;
  touch-action: none; /* ëª¨ë°”ì¼ ë“œë˜ê·¸ ì‹œ í™”ë©´ ë°€ë¦¼ ë°©ì§€ */
}

.empty-message {
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  opacity: 0.6;
  width: 100%;
}

/* 4. ì‚´ì•„ìˆëŠ” ë°œìêµ­ & ë‚˜ë¬´ */
.living-footprint {
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  cursor: pointer;
  width: 80px; 
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), z-index 0s;
}

.living-footprint:hover {
  z-index: 90 !important;
  transform: translateY(-5px) scale(1.05);
}

.foot-icon {
  font-size: 40px;
  line-height: 1;
  transition: transform 0.5s ease, filter 0.5s ease;
  filter: hue-rotate(80deg) brightness(0.9); /* ê¸°ë³¸ ë°œìêµ­ ìƒ‰ìƒ */
}

/* ë‚˜ë¬´ë¡œ ìë¼ë‚¬ì„ ë•Œ */
.living-footprint.grown-tree .foot-icon {
  filter: none; 
  filter: drop-shadow(0 0 8px rgba(255, 215, 0, 0.4));
}

.foot-label {
  margin-top: 25px; 
  font-size: 13px;
  font-weight: bold;
  background: rgba(255, 255, 255, 0.9);
  padding: 4px 12px;
  border-radius: 12px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.08);
  color: var(--forest-deep);
  white-space: nowrap;
  max-width: 100px;
  overflow: hidden;
  text-overflow: ellipsis;
  transition: margin 0.3s ease; 
}

/* --- ğŸ”˜ ë²„íŠ¼ ê³µí†µ ìŠ¤íƒ€ì¼ (PC ê¸°ë³¸) --- */
/* ìƒì , ê¸€ì“°ê¸°(+), ì •ì›ì‚¬ ë²„íŠ¼ì˜ ê³µí†µ ëª¨ì–‘ ì •ì˜ */
.shop-btn, .fab-btn, .garden-btn {
  position: fixed;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  border: none;
  cursor: pointer;
  z-index: 100;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  transition: transform 0.2s, background 0.2s;
  font-size: 26px; /* ì•„ì´ì½˜ í¬ê¸° */
}

/* ë§ˆìš°ìŠ¤ ì˜¬ë ¸ì„ ë•Œ íš¨ê³¼ */
.shop-btn:hover, .fab-btn:hover, .garden-btn:hover {
  transform: scale(1.1);
}

/* ê°œë³„ ë²„íŠ¼ ìƒ‰ìƒ ë° ìœ„ì¹˜ (PC ê¸°ì¤€) */
.shop-btn {
  background: #ffb74d; /* ì£¼í™©ìƒ‰ */
  color: white;
  bottom: 20px;
  left: 20px;
}

.fab-btn {
  background: var(--forest-main); /* ì´ˆë¡ìƒ‰ */
  color: white;
  bottom: 30px;
  right: 30px;
  font-size: 30px; /* í”ŒëŸ¬ìŠ¤ ê¸°í˜¸ëŠ” ì¢€ ë” í¬ê²Œ */
}

.garden-btn {
  /* ìƒ‰ìƒì€ JS ìƒíƒœì— ë”°ë¼ ë³€í•˜ë¯€ë¡œ ì—¬ê¸°ì„  ê¸°ë³¸ ìœ„ì¹˜ë§Œ ì¡ìŒ */
  bottom: 90px; /* ìƒì  ë²„íŠ¼ ìœ„ */
  left: 25px;   /* ìƒì  ë²„íŠ¼ ì¤‘ì•™ ì •ë ¬ */
}

/* 6. ì¹´ë“œ ìŠ¤íƒ€ì¼ (Create, Run í˜ì´ì§€ìš©) */
.container, .detail-card {
  width: 100%;
  max-width: 420px;
  background: white;
  padding: 30px;
  border-radius: 25px;
  box-shadow: 0 10px 30px rgba(45, 74, 34, 0.15);
  display: flex;
  flex-direction: column;
  gap: 20px;
  margin: 100px auto 40px; 
  position: relative;
  box-sizing: border-box;
}

.modal-overlay {
  display: flex;
  justify-content: center;
  padding: 0 20px;
}

/* 7. ê³µí†µ ë²„íŠ¼ ë° ì…ë ¥ì°½ ìŠ¤íƒ€ì¼ */
button.primary-btn {
  padding: 16px;
  border-radius: 15px;
  border: none;
  font-size: 16px;
  font-weight: bold;
  background: var(--forest-main);
  color: white;
  cursor: pointer;
  width: 100%;
  box-shadow: 0 4px 10px rgba(79, 119, 45, 0.2);
  transition: 0.2s;
}
button.primary-btn:hover:not(:disabled) {
  background: var(--forest-deep);
  transform: translateY(-2px);
}
button.primary-btn:disabled {
  background: #ccc;
  cursor: not-allowed;
  box-shadow: none;
}

input {
  padding: 15px;
  border: 2px solid #eaddca;
  border-radius: 15px;
  font-size: 16px;
  outline: none;
  background: #fafbf6;
  width: 100%;
  box-sizing: border-box;
}
input:focus {
  border-color: var(--forest-light);
  background: white;
}

h2 { margin: 0; color: var(--forest-deep); font-size: 22px; }

/* 8. ì²´í¬ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
.checklist { display: flex; flex-direction: column; gap: 12px; }

.check-item {
  background: #f4f8f0;
  padding: 16px;
  border-radius: 15px;
  display: flex; gap: 12px; align-items: center;
  cursor: pointer;
  transition: 0.2s;
  border: 1px solid transparent;
}
.check-item:hover { border-color: var(--forest-light); background: white; }

.check-item.done {
  background: var(--forest-light);
  color: white;
  font-weight: bold;
  box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
}
.check-item input[type="checkbox"] {
  width: 20px; height: 20px; accent-color: var(--forest-main);
}

/* --- ğŸ“Š ë§ˆì´í˜ì´ì§€ (MyPage) ìŠ¤íƒ€ì¼ [ë³µêµ¬ë¨!] --- */
.mypage-container {
  padding-top: 100px;
  padding-bottom: 30px;
  padding-left: 20px;
  padding-right: 20px;
  max-width: 500px;
  margin: 0 auto;
}

.level-card {
  background: linear-gradient(135deg, #a8e063 0%, #56ab2f 100%);
  color: white;
  padding: 25px;
  border-radius: 20px;
  text-align: center;
  margin-bottom: 20px;
  box-shadow: 0 10px 20px rgba(86, 171, 47, 0.3);
}

.level-title {
  font-size: 24px;
  font-weight: bold;
  margin: 10px 0;
}

.stats-grid {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 10px;
  margin-bottom: 25px;
}

.stat-box {
  background: white;
  padding: 15px 10px;
  border-radius: 15px;
  text-align: center;
  box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

.stat-number {
  font-size: 20px;
  font-weight: bold;
  color: #2e7d32;
  display: block;
}

.stat-label {
  font-size: 12px;
  color: #888;
}

.analysis-card {
  background: white;
  padding: 20px;
  border-radius: 20px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.05);
}

.category-row {
  display: flex;
  align-items: center;
  margin-bottom: 12px;
}

.cat-icon {
  font-size: 20px;
  width: 30px;
}

.progress-bg {
  flex: 1;
  height: 10px;
  background: #f0f0f0;
  border-radius: 5px;
  margin: 0 10px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  border-radius: 5px;
  transition: width 1s ease;
}

.cat-count {
  font-size: 14px;
  font-weight: bold;
  color: #555;
  width: 30px;
  text-align: right;
}

/* --- ğŸŒ™ ë°¤ ëª¨ë“œ (Night Mode) --- */
.forest-field.night-mode {
  background: linear-gradient(to bottom, #0f2027, #203a43, #2c5364);
  transition: background 1s ease;
}

/* ë°¤ì—ëŠ” ê¸€ì”¨ë¥¼ í•˜ì–—ê²Œ */
.forest-field.night-mode .foot-label {
  color: #ffffff !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
  font-weight: bold;
}

/* ë°¤ì—ëŠ” ë°œìêµ­ ì•„ì´ì½˜ë„ ì‚´ì§ ë°ê²Œ */
.forest-field.night-mode .foot-icon {
  filter: brightness(1.2); 
  text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
}

/* ë°¤ì— ê°€ë¡œë“± ë¹›ë‚˜ê²Œ í•˜ê¸° */
.night-mode .decoration-lamp {
  filter: drop-shadow(0 0 15px #ffd700);
}

/* --- âœ¨ ë°˜ë”§ë¶ˆì´ íš¨ê³¼ --- */
.firefly-container {
  position: absolute;
  top: 50%; left: 50%;
  width: 100px; height: 100px;
  transform: translate(-50%, -50%);
  pointer-events: none;
  z-index: 6;
}

.firefly {
  position: absolute;
  width: 6px; height: 6px;
  background-color: #ffd700;
  border-radius: 50%;
  box-shadow: 0 0 10px #ffd700;
  opacity: 0;
  animation: float-sparkle 4s infinite ease-in-out;
}

@keyframes float-sparkle {
  0% { transform: translate(0, 0); opacity: 0; }
  20% { opacity: 1; }
  50% { transform: translate(15px, -15px); opacity: 0.8; }
  80% { opacity: 1; }
  100% { transform: translate(-10px, -25px); opacity: 0; }
}

/* --- ğŸ¿ï¸ ìˆ²ì† ì¹œêµ¬ë“¤ (Animals) --- */
.forest-animal {
  position: absolute;
  pointer-events: none;
  z-index: 2;
  filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
  transition: all 0.5s;
}

.animal-squirrel {
  font-size: 24px;
  animation: squirrel-move 8s infinite alternate ease-in-out;
}
@keyframes squirrel-move {
  0% { transform: translateX(0) rotate(0deg); }
  20% { transform: translateX(20px) rotate(5deg); }
  50% { transform: translateX(-10px) rotate(-5deg); }
  80% { transform: translateX(30px) rotate(5deg) scaleX(-1); }
  100% { transform: translateX(0) rotate(0deg); }
}

.animal-rabbit {
  font-size: 28px;
  animation: rabbit-hop 3s infinite ease-in-out;
}
@keyframes rabbit-hop {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-15px); }
}

.animal-deer {
  font-size: 50px;
  animation: deer-breath 6s infinite ease-in-out;
}
@keyframes deer-breath {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

.animal-bear {
  font-size: 60px;
  animation: bear-sway 10s infinite ease-in-out;
}
@keyframes bear-sway {
  0%, 100% { transform: rotate(0deg); }
  25% { transform: rotate(5deg); }
  75% { transform: rotate(-5deg); }
}

/* --- ğŸ›– ë„í† ë¦¬ ìƒì  UI --- */
.acorn-counter {
  position: fixed;
  top: 100px;
  left: 20px;
  background: rgba(255, 255, 255, 0.9);
  padding: 8px 15px;
  border-radius: 20px;
  font-weight: bold;
  color: #8d6e63;
  box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  z-index: 100;
  display: flex;
  align-items: center;
  gap: 5px;
}

/* ìƒì  ëª¨ë‹¬ */
.shop-modal {
  position: fixed;
  bottom: 20px; left: 20px; right: 20px;
  background: white;
  border-radius: 20px;
  padding: 20px;
  box-shadow: 0 -5px 20px rgba(0,0,0,0.2);
  z-index: 200;
  animation: slide-up 0.3s ease;
}

@keyframes slide-up {
  from { transform: translateY(100%); }
  to { transform: translateY(0); }
}

.shop-items {
  display: flex;
  gap: 15px;
  overflow-x: auto;
  padding-bottom: 10px;
}

.shop-item-card {
  min-width: 80px;
  background: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 10px;
  padding: 10px;
  text-align: center;
  cursor: pointer;
}
.shop-item-card:hover { background: #fff3e0; }

.item-icon { font-size: 30px; display: block; margin-bottom: 5px; }
.item-cost { font-size: 12px; color: #8d6e63; font-weight: bold; }

/* ğŸ¡ ìˆ²ì— ë°°ì¹˜ëœ ì•„ì´í…œ */
.decoration-obj {
  position: absolute;
  transform: translate(-50%, -50%);
  pointer-events: none;
  filter: drop-shadow(0 2px 3px rgba(0,0,0,0.2));
  z-index: 3;
}

/* --- ğŸ› ï¸ í¸ì§‘ ëª¨ë“œ ì• ë‹ˆë©”ì´ì…˜ --- */
@keyframes wiggle {
  0%, 50%, 100% { transform: rotate(0deg) scale(1); }
  25% { transform: rotate(5deg) scale(1.1); }
  75% { transform: rotate(-5deg) scale(1.1); }
}

@keyframes shake {
  0% { transform: translate(-50%, -50%) rotate(0deg); }
  25% { transform: translate(-50%, -50%) rotate(5deg); }
  75% { transform: translate(-50%, -50%) rotate(-5deg); }
  100% { transform: translate(-50%, -50%) rotate(0deg); }
}

/* --- ğŸŒŠ ê³ í€„ë¦¬í‹° ì—°ëª» (CSS Art) --- */
.real-pond {
  width: 100px;
  height: 70px;
  background: linear-gradient(135deg, #4fc3f7, #0288d1);
  border-radius: 50% 50% 40% 60% / 60% 50% 50% 40%;
  border: 4px solid #81d4fa;
  box-shadow: inset 0 0 20px rgba(0,0,0,0.2), 0 10px 15px rgba(0,0,0,0.1);
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

.real-pond::after {
  content: '';
  position: absolute;
  top: -50%; left: -50%;
  width: 200%; height: 200%;
  background: rgba(255,255,255,0.1);
  transform: rotate(30deg);
  animation: ripple 5s infinite linear;
}

@keyframes ripple {
  0% { transform: translateY(0) rotate(0deg); }
  50% { transform: translateY(-10px) rotate(180deg); }
  100% { transform: translateY(0) rotate(360deg); }
}

.pond-duck {
  font-size: 24px;
  z-index: 2;
  animation: duck-float 3s infinite ease-in-out alternate;
}

@keyframes duck-float {
  0% { transform: translateX(-5px) translateY(2px); }
  100% { transform: translateX(5px) translateY(-2px); }
}

/* --- ğŸ“¦ ë³´ê´€í•¨ íƒ­ ìŠ¤íƒ€ì¼ --- */
.shop-tabs {
  display: flex;
  margin-bottom: 15px;
  border-bottom: 2px solid #eee;
}
.shop-tab {
  flex: 1;
  padding: 10px;
  background: none;
  border: none;
  font-size: 16px;
  font-weight: bold;
  color: #aaa;
  cursor: pointer;
}
.shop-tab.active {
  color: #8d6e63;
  border-bottom: 3px solid #8d6e63;
}

/* --- ğŸ“± ëª¨ë°”ì¼ ë°˜ì‘í˜• (Responsive Mobile) --- */
@media (max-width: 600px) {
  
  /* 1. ë‚˜ë¬´ì™€ ë°œìêµ­ í¬ê¸° ì¤„ì´ê¸° */
  .foot-icon {
    font-size: 24px;
  }
  .foot-label {
    font-size: 11px;
    background: rgba(255, 255, 255, 0.9);
    padding: 2px 6px;
  }

  /* 2. ë™ë¬¼ë“¤ë„ ì‘ê²Œ */
  .forest-animal {
    font-size: 20px;
  }

  /* 3. ì—°ëª» ë“± ì¥ì‹ ì•„ì´í…œ ì¶•ì†Œ */
  .decoration-obj {
    font-size: 20px !important;
  }
  .real-pond {
    width: 70px; 
    height: 50px;
    border-width: 2px;
  }
  .pond-duck {
    font-size: 16px;
  }

  /* 4. UI ë²„íŠ¼ë“¤ ì‚¬ì´ì¦ˆ ì¡°ì ˆ (ëª¨ë°”ì¼ìš©) */
  .shop-btn, .fab-btn, .garden-btn {
    width: 45px !important;
    height: 45px !important;
    font-size: 20px !important;
  }
  
  /* ë²„íŠ¼ ìœ„ì¹˜ ë¯¸ì„¸ ì¡°ì • */
  .shop-btn { bottom: 15px; left: 15px; }
  .fab-btn { bottom: 15px; right: 15px; }
  .garden-btn { 
    bottom: 70px !important; /* ìƒì  ë²„íŠ¼ ë°”ë¡œ ìœ„ */
    left: 20px !important;   /* ìƒì  ë²„íŠ¼ ì¤‘ì•™ ì •ë ¬ */
  }

  /* 5. ëª¨ë‹¬ ì°½ ë° ì¹´ë“œ ê½‰ ì°¨ê²Œ */
  .shop-modal {
    left: 0; right: 0; bottom: 0;
    border-radius: 20px 20px 0 0;
    padding: 15px;
  }
  .detail-card {
    width: 90%;
    padding: 20px;
  }
  
  /* 6. ë„í† ë¦¬ ì¹´ìš´í„° ì‘ê²Œ */
  .acorn-counter {
    top: 80px;
    font-size: 14px;
    padding: 5px 10px;
  }
}